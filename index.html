<!DOCTYPE html>
<html>
    <head>
        <style>
            button[type=button] {
                background-color: darkblue;
                color: white;
                border: none;
                font-size: large;
                align-content: center;
            }
        </style>
    </head>
    <body>
        <div id="header" style="text-align: center; font-family: Helvetica, Arial, sans-serif; background-color: green; color: white;">
            <h1>
                Problem Solve Count
            </h1>
        </div>
        <div>
            <form>
                <div style="display: grid; grid-template-columns: auto auto auto auto; justify-content: center;">
                <button type="button" id="ps+1" onclick="problemSolve1();displayCount()">
                    LShift: +1 Problem Solve
                </button>
                <button type="button" id="dmg+1" onclick="damages1();displayCount()">
                    RShift: +1 Damages
                </button>
                <button type="button" id="ps+5" onclick="problemSolve5();displayCount()">
                    Z: +5 Problem Solve
                </button>
                <button type="button" id="dmg+5" onclick="damages5();displayCount()">
                    /: +5 Damages
                </button>
                <button type="button" id="copyCount" onclick="copyToClipboard();displayCount()">
                    Space: Copy Count to Clipboard
                </button>
            </form>
        </div>
        <div style="display: grid; grid-template-columns: auto auto auto;">
            <div style="white-space: nowrap;">
                <form>
                    <p>
                        <span style="display: inline-block;">
                            <label name="floor">Floor:</label>
                            <select id="floor" name="floor" style="width: 50px;">
                                <option>  </option>
                                <option>1W</option>
                                <option>2W</option>
                                <option>3W</option>
                                <option>4W</option>
                                <option>1E</option>
                                <option>2E</option>
                                <option>3E</option>
                                <option>4E</option>
                            </select>      
                        </span>
                        <span id="psCount" style="display: inline-block;"></span>
                        <span id="dmgCount" style="display: inline-block;"></span>
                    </p>
                </form>
            </div>
        </div>
    </body>
    <script>
        let ps = 0;
        let dmg = 0;

        function displayCount() {
            // document.getElementById("floor").innerHTML = '';
            document.getElementById("psCount").innerHTML = `ps ${ps}, `;
            document.getElementById("dmgCount").innerHTML = `dmg ${dmg}`;
        }
        function problemSolve1() {
            ps++;
        }
        function problemSolve5() {
            ps +=5;
        }
        function damages1() {
            dmg++;
        }
        function damages5() {
            dmg += 5;
        }
        function copyToClipboard() {
            navigator.clipboard.writeText(
                `${document.getElementById("floor").value}: ps ${ps}, dmg ${dmg}`
            );
            window.alert('Count copied to clipboard');
        }
        function checkKeyPressed(evt) {
            // console.log(evt.code);
            switch(evt.code) {
                case 'ShiftLeft':
                    problemSolve1();
                    break;
                case 'ShiftRight':
                    damages1();
                    break;
                case 'KeyZ':
                    problemSolve5();
                    break;
                case 'Slash':
                    damages5();
                    break;
                case 'Space':
                    copyToClipboard();
                    break;
            }
            displayCount();
        }

        displayCount();
        window.addEventListener("keydown", checkKeyPressed);

        
    </script>
</html>